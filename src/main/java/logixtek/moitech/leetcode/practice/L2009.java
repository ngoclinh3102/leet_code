package logixtek.moitech.leetcode.practice;

import java.util.Arrays;

public class L2009 {

    public static void main(String[] args) {
        System.out.println(minOperations(59, 207, 259, 300, 386, 476, 502, 553, 626, 641, 784, 882, 901, 960, 1015, 1063, 1107, 1160, 1180, 1348, 1483, 1512, 1608, 1655, 1704, 1776, 1957, 2000, 2099, 2110, 2161, 2255, 2263, 2267, 2301, 2367, 2467, 2479, 2582, 2659, 2793, 2799, 3056, 3127, 3148, 3185, 3210, 3243, 3296, 3310, 3325, 3397, 3423, 3478, 3479, 3491, 3513, 3525, 3642, 3672, 3679, 3722, 3754, 3792, 3846, 3893, 3943, 4087, 4172, 4193, 4285, 4285, 4301, 4461, 4470, 4544, 4575, 4586, 4631, 4667, 4781, 4873, 4902, 4904, 5044, 5071, 5121, 5130, 5226, 5314, 5460, 5488, 5534, 5618, 5667, 6054, 6156, 6225, 6273, 6345, 6411, 6414, 6420, 6421, 6430, 6472, 6579, 6665, 6762, 6807, 6859, 6871, 6893, 7041, 7056, 7146, 7219, 7290, 7328, 7335, 7447, 7461, 7468, 7601, 7690, 7711, 7723, 7754, 7779, 7785, 7801, 7845, 8011, 8119, 8433, 8494, 8585, 8600, 8610, 8641, 8727, 8739, 8771, 8815, 8843, 8906, 8918, 8963, 9040, 9195, 9256, 9322, 9394, 9409, 9452, 9500, 9500, 9517, 9637, 9689, 9725, 9800, 9863, 9879, 9914, 9943));
    }

    public static int minOperations(int... nums) {
        Arrays.sort(nums);

        int minOpera = nums.length - 1;

        int i = 0;
        int j = 1;
        int dupInWindow = 0;
        while (i < nums.length) {
            while (j < nums.length && nums[j] - nums[i] <= nums.length - 1) {
                if (nums[j] == nums[j-1]) {
                    dupInWindow++;
                }
                j++;
            }

            minOpera = Math.min(minOpera, (nums.length - (j - i)) + dupInWindow);

            i++;
            while (i < nums.length && nums[i] == nums[i-1]) {
                dupInWindow--;
                i++;
            }
        }

        return minOpera;
    }
}
